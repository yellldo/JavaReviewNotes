## CMS

> CMS适用于小内存应用
>
> CMS是基于标记-清除算法实现的
>
> 通过`-XX:+UseConcMarkSweepGC`来开启CMS

- 初始标记（CMS initial mark）STW
- 并发标记（CMS concurrent mark）耗时最长
- 重新标记（CMS remark） STW
- 并发清除（CMSconcurrent sweep）耗时最长

### 缺点

- 拖慢应用程序

  > 在并发阶段，它虽然不会导致用户线程停顿，但是会占用一部分线程导致应用程序变慢，降低总吞吐量。

- 浮动垃圾	

  > CMS在并发标记和并发清理阶段，用户线程还在继续运行，程序还会产生新的垃圾对象，但这一部分垃圾对象是出现在标记过程结束之后的，在档次手机中无法处理掉它们。

- 空间碎片化

  > CMS是基于标记-清除算法实现的，会产生大量空间碎片，空间碎片过多时，将会给大对象分配带来麻烦，没有足够大的连续空间分配当前对象，不得不提前触发一次Full GC。

