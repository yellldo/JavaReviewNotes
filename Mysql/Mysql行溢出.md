## 行溢出

> Mysql对一条记录占用的最大空间是有限制的。除了BLOB、TEXT列之外，其它所有列（不包含隐藏列和记录头信息）占用的字节长度加起来不能超过65535个字节。



如果说我们为了存储一个VARCHAR(M)类型的列，其实需要占用3个部分存储空间：

- 真实数据
- 真实数据占用的字节长度
- NULL值标识，如果该列有NOT NULL属性则可以没有这部分的储存空间

如果该VARCHAR类型的列没有NOT NULL属性， 那最多只能存储65532个字节的数据，因为真实数据的长度可能占2个字节，NULL值标识占1个字节

如果该VARCHAR了行的列有NOT NULL属性，那最多只能存储65533个字节的数据，因为真实数据的长度可能占2个字节，不需要NULL值标识

如果一行中存储了很大的数据时，可能会发生**行溢出的**现象。

> 在Compact和Redundant行格式下，如果一列中的数据非常多的话，在本记录的真实数据处只会存储该列的前768个字节的数据和一个指向其它页的地址。然后把剩下的数据页存储到其它页中。



> 在Dynamic和Compressed行格式下，行溢出不会在记录的真实数据处存储真实数据的前768个字节，而是把所有的字节存储到其它页中，只在记录的真实数据处存储其它页的地址。